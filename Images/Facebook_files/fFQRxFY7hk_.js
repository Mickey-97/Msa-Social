if (self.CavalryLogger) { CavalryLogger.start_js(["lxyoK"]); }

__d("XFriendJewelNotifsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/friendjewel\/friendconfirmednotifications\/",{alert_ids:{type:"IntVector",required:true},action:{type:"String",required:true}});}),null);
__d('FriendConfirmedNotifs',['Event','shield','CSS','DOM','ge','Arbiter','AsyncRequest','Parent','XFriendJewelNotifsController','RequestsJewelController'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$FriendConfirmedNotifs4=function(){if(!this.$FriendConfirmedNotifs2.length)return;this.$FriendConfirmedNotifs9(this.$FriendConfirmedNotifs2,'mark_read');this.$FriendConfirmedNotifs2=[];}.bind(this);this.$FriendConfirmedNotifs6=function(){c('CSS').removeClass(this.$FriendConfirmedNotifs3.childNodes[0],'friendConfirmedNotifsUnread');this.$FriendConfirmedNotifs5.remove();}.bind(this);c('Event').listen(i.close,'click',this.$FriendConfirmedNotifs1.bind(this));this.$FriendConfirmedNotifs2=i.unread_notifs;this.$FriendConfirmedNotifs3=i.unit;if(this.$FriendConfirmedNotifs2.length)if(c('RequestsJewelController').isOpen()){this.$FriendConfirmedNotifs4();}else{c('Arbiter').subscribeOnce('requestsJewel/opened',c('shield')(this.$FriendConfirmedNotifs4,this));c('Arbiter').subscribeOnce('requestsJewel/closed',c('shield')(this.$FriendConfirmedNotifs4,this));}this.$FriendConfirmedNotifs5=c('Event').listen(this.$FriendConfirmedNotifs3,'click',this.$FriendConfirmedNotifs6.bind(this));c('Arbiter').subscribeOnce('requestsJewel/closed',c('shield')(this.$FriendConfirmedNotifs6,this));this.$FriendConfirmedNotifs7=i.notifids;}h.prototype.$FriendConfirmedNotifs8=function(i){'use strict';var j=false,k=c('ge')('fbRequestsFlyout'),l=c('DOM').find(k,'.requestsUnitTitle'),m=c('DOM').scry(i,'.friendConfirmedNotifsUnitTitle')[0];if(!m){j=true;m=c('DOM').find(k,'.friendConfirmedNotifsUnitTitle');}if(j){c('CSS').show(c('DOM').find(l,'.requestsJewelLinks'));c('DOM').replace(m,l);}else c('CSS').hide(m);};h.prototype.$FriendConfirmedNotifs1=function(event){'use strict';var i=event.getTarget(),j=c('Parent').byClass(i,'friendConfirmedNotifsUnitAggregated'),k=j.parentElement;c('CSS').hide(j);this.$FriendConfirmedNotifs8(k);this.$FriendConfirmedNotifs9(this.$FriendConfirmedNotifs7,'xout');};h.prototype.$FriendConfirmedNotifs9=function(i,j){'use strict';var k=c('XFriendJewelNotifsController').getURIBuilder().setIntVector('alert_ids',i).setString('action',j).getURI();new (c('AsyncRequest'))().setURI(k).send();};f.exports=h;}),null);
__d('FriendConfirmedNotifsClickLogging',['Event','AsyncSignal'],(function a(b,c,d,e,f,g){var h={addClickLoggingListener:function i(j,k){c('Event').listen(j,'click',function(){new (c('AsyncSignal'))(k).send();});}};f.exports=h;}),null);
__d("XLtgPostTranslationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/intl\/see_translation\/",{ftid:{type:"String",required:true},text_size:{type:"Enum",defaultValue:"medium",enumType:1}});}),null);
__d('LtgPostTranslation',['Arbiter','AsyncRequest','ContentTranslationStrings','DOM','Event','highlight','LoadingIndicator.react','React','ReactDOM','UFIUIEvents','XLtgPostTranslationController'],(function a(b,c,d,e,f,g){'use strict';var h={_renderTranslation:function i(j,k){var l=c('DOM').create('div',{},k||c('ContentTranslationStrings').NO_TRANSLATION_AVAILABLE);c('DOM').replace(j,l);if(k)c('highlight')(l);},bindListener:function i(j,k){c('Event').listen(j,'click',function(event){event.prevent();c('ReactDOM').render(c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white'}),j);var l=c('XLtgPostTranslationController').getURIBuilder().setString('ftid',k).getURI();new (c('AsyncRequest'))().setURI(l).setHandler(function(m){var n=m.getPayload();this._renderTranslation(j,n&&n.text);c('Arbiter').inform(c('UFIUIEvents').TranslationRendered);}.bind(this)).setErrorHandler(function(){this._renderTranslation(j,null);}.bind(this)).send();}.bind(this));}};f.exports=h;}),null);
__d('JewelFollowupUnit',['csx','DOM','Arbiter','CSS'],(function a(b,c,d,e,f,g,h){function i(j,k,l,m){this._followup=k;this._parentContainer=this._followup.parentNode;this._friendRequest=this._parentContainer.firstChild;l&&c('Arbiter').subscribe(l,function(o,p){p.uid==j&&this._showFollowup();}.bind(this));var n=c('DOM').scry(this._parentContainer,"._e7")[0];n&&(n.onclick=this._hideFollowup.bind(this));m&&c('Arbiter').subscribe(m,function(o,p){p.uid==j&&this._hideFollowup();}.bind(this));}Object.assign(i.prototype,{_showFollowup:function j(){this._updateRequestAnimClass();c('CSS').addClass(this._followup,'active');c('CSS').addClass(this._parentContainer,'followupActivated');},_hideFollowup:function j(){this._updateRequestAnimClass();c('CSS').removeClass(this._followup,'active');c('CSS').removeClass(this._parentContainer,'followupActivated');},_updateRequestAnimClass:function j(){c('CSS').conditionClass(this._friendRequest,'animated',c('CSS').hasClass(this._followup,'animated'));}});f.exports=i;}),null);
__d('InnerStickyArea',['cx','ContextualLayer','CSS','DataStore','DOM','Event','LayerHideOnTransition','Locale','Parent','Scroll','Style','Vector','removeFromArray'],(function a(b,c,d,e,f,g,h){function i(l){var m=c('Parent').byClass(l,'scrollable')||c('Style').getScrollParent(l.parentNode);return m;}function j(l){'use strict';var m=i(l);this.node=l;this._extracted=false;this._placeholder=c('DOM').create('div',{className:"_ptr"});k.getInstance(m).register(this);}j.prototype.update=function(){'use strict';if(this._extracted){c('Vector').getElementDimensions(this._placeholder).setElementWidth(this.node);c('Vector').getElementDimensions(this.node).setElementHeight(this._placeholder);}else c('Vector').getElementDimensions(this.node).setElementWidth(this.node).setElementHeight(this._placeholder);return this;};j.prototype.setExtracted=function(l){'use strict';if(l===this._extracted)return this;if(l){this.update();c('DOM').replace(this.node,this._placeholder);}else{c('Style').set(this.node,'height',null);c('Style').set(this.node,'width',null);if(this._placeholder.parentNode){c('DOM').replace(this._placeholder,this.node);}else c('DOM').remove(this.node);}this._extracted=l;return this;};j.prototype.getInlineNode=function(){'use strict';return this._extracted?this._placeholder:this.node;};j.prototype.isDisplayed=function(){'use strict';var l=this.getInlineNode();return l.offsetWidth>0&&l.offsetHeight>0;};j.prototype.getStickyContainer=function(){'use strict';return this._stickyContainer;};j.prototype.updateContainer=function(){'use strict';var l=i(this.node);k.getInstance(l).register(this);};j.prototype.destroy=function(){'use strict';this.getStickyContainer().unregister(this);};j.getStickyContainer=function(l){'use strict';return k.getInstance(i(l));};function k(l){'use strict';this.node=l;this._areas=[];this._fixTarget=null;this._fixedArea=null;this._initialized=false;this._layer=new (c('ContextualLayer'))({permanent:true},c('DOM').create('div')).setInsertParent(this.node.parentNode).disableBehavior(c('LayerHideOnTransition'));this._listener=c('Event').listen(l,'scroll',this.update.bind(this));c('CSS').addClass(l,"_pts");c('DataStore').set(l,'StickyContainer',this);}k.prototype.isDisplayed=function(){'use strict';return this.node.offsetWidth>0&&this.node.offsetHeight>0;};k.prototype.register=function(l){'use strict';if(l.getStickyContainer())l.getStickyContainer().unregister(l);l._stickyContainer=this;this._areas.push(l);this.update();return this;};k.prototype.unregister=function(l){'use strict';c('removeFromArray')(this._areas,l);this.update();};k.prototype.update=function(){'use strict';if(!this.isDisplayed())return this;var l=null,m=this,n=c('Scroll').getTop(this.node),o;for(var p=0;p<this._areas.length;p++){var q=this._areas[p],r=q.getInlineNode();if(!q.isDisplayed())continue;if(!c('DOM').contains(this.node.parentNode,r))continue;var s=r.offsetTop;if(s<=n){if(o===undefined||s>o){l=q;o=s;}}else if(l){var t=c('Vector').getElementDimensions(l.node).y;if(s-t<n)m=q;break;}}if(this._fixedArea===l&&this._fixTarget===m){this._fixedArea&&this._fixedArea.update();}else{if(this._fixedArea&&this._fixedArea!==l)this._unfixArea(this._fixedArea);if(l)this._fixAreaTo(l,m);this._fixedArea=l;this._fixTarget=m;}return this;};k.prototype.destroy=function(){'use strict';this._listener&&this._listener.remove();this._listener=null;};k.prototype._fixAreaTo=function(l,m){'use strict';this._layer.hide();l.setExtracted(true);if(m instanceof k){this._layer.setInsertParent(this.node.parentNode).setAlignment(c('Locale').isRTL()?'right':'left').setContext(this.node);}else this._layer.setInsertParent(this.node).setContext(m.node);this._layer.setContent(l.node).show();c('CSS').addClass(l.node,"_57kj");};k.prototype._unfixArea=function(l){'use strict';this._layer.hide();l.setExtracted(false);c('CSS').removeClass(l.node,"_57kj");};k.getInstance=function(l){'use strict';var m=c('DataStore').get(l,'StickyContainer');return m||new k(l);};f.exports=j;}),null);
__d("XSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/save\/story\/",{story_id:{type:"String"},object_id:{type:"Int"},action:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},message_id:{type:"String"},tracking_message:{type:"String"}});}),null);